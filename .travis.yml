---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="amazonlinux" tag="1"
    - image="centos" tag="7"
    - image="centos" tag="latest"
    - image="debian" tag="latest"
    - image="debian" tag="bullseye"
    - image="fedora" tag="31"
    - image="fedora" tag="latest"
    - image="opensuse" tag="latest"
    - image="ubuntu" tag="latest"
    - image="ubuntu" tag="bionic"
    - image="ubuntu" tag="xenial"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - tox --parallel all

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack:
    rooms:
      - secure: "RAaqox+E3aqssefRF/YvKmz9rl+XdRq5/S0CAVXL/6IPhIiRO4KVY4b8v3qQ8EYJXC2t6waqzjH6Sg1lthv86zQWQLk2fN/DEfA2EL7xxp/o9P+ThqZ8CdV/PQpIVMd7vhY3zZfbnSLjXd2Jj4GDxOGB52sOtqezi+0x9YxToNePAbZC5St2FE/DC3M+DQahkgRdP/qbQT7rHDQVDhfmK7YlT/awWZzwQG8e9i7q8RztrDn72Gty5CR5XXfZD6ljdEzYdpyx4RkIomw5XBX4/L6zbXzlFoUd/SKl05bDFudmc5nbNw0MYjwNGuok7eHrC5ablTB59EmeS131O58Y+Pbdbh33b4ydu+P5ttDdFH65pRH4kUDZtTJoQG67TZiX4CVDTFxY60hIb32L01MQA+auPE34lM0La0WxxiVzqlHmrBNQrQEj54U99qQV96bXGT83UlDdkyprIXGK/RPFSiVSEbFFxw01fvE6yFwuYhoZPtIF7pfZoRe7F679QstidsLHeDTYSnA2s4y8mux/9eRmOoCARCT4ddqt6rWQ8bg0exX/RiWAHGjkYqX3Nu5FYbYZbQF1yoaFquj0hdrtDdohJ8jrawy/eDEMEJNOyswfFIh9AevabVXvX5DJfnKK5jo9o1h3M8j3iThhp2XibC4rWR5Da0o9g2a5jEnzEjM="
  email: false
